import{S as n,i as s,s as a,e as t,c as p,a as o,d as e,b as c,f as l,n as u,g as i,t as k,h as r,q as h,j as m,k as d,l as g,m as f,o as v,p as y,r as w,u as E,B as b}from"./client.a52649eb.js";import{L as S}from"./Leaflet.1975f146.js";function $(n){let s;return{c(){s=t("pre"),this.h()},l(n){s=p(n,"PRE",{class:!0}),o(s).forEach(e),this.h()},h(){c(s,"class","language-html")},m(n,a){l(n,s,a),s.innerHTML='<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">import</span> Map <span class="token keyword">from</span> <span class="token string">"@anoram/leaflet-svelte"</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getISS</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n        <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">https://api.wheretheiss.at/v1/satellites/25544</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">let</span> lat <span class="token operator">=</span> res<span class="token punctuation">.</span>latitude<span class="token punctuation">;</span>\n        <span class="token keyword">let</span> lng <span class="token operator">=</span> res<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span>\n        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>\n            lat<span class="token punctuation">,</span>\n            lng<span class="token punctuation">,</span>\n        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>\n        zoom<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n        mapID<span class="token operator">:</span> <span class="token string">"map"</span><span class="token punctuation">,</span>\n        markers<span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">&#123;</span>\n                lat<span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>\n                lng<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>\n                popup<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    isOpen<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n                    text<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Static Marker</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n    <span class="token keyword">let</span> <span class="token constant">MAP_EL</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>\n            <span class="token keyword">let</span> latlng <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getISS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token punctuation">&#123;</span>\n                lat<span class="token operator">:</span> latlng<span class="token punctuation">.</span>lat<span class="token punctuation">,</span>\n                lng<span class="token operator">:</span> latlng<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>\n                tooltip<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    isOpen<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n                    text<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">International Svelte Station</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>\n                    direction<span class="token operator">:</span> <span class="token string">"top"</span><span class="token punctuation">,</span>\n                    sticky<span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n                icon<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    iconUrl<span class="token operator">:</span> <span class="token string">"./svelte-logo.png"</span><span class="token punctuation">,</span>\n                    iconSize<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n            <span class="token constant">MAP_EL</span><span class="token punctuation">.</span><span class="token function">updateMarkers</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>\n                markers<span class="token operator">:</span> <span class="token punctuation">[</span>marker<span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n  <span class="token selector">.map</span> <span class="token punctuation">&#123;</span>\n    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>\n    <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Map</span> <span class="token attr-name">&#123;options&#125;</span> <span class="token attr-name"><span class="token namespace">bind:</span>this</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;MAP_EL&#125;</span> <span class="token attr-name"><span class="token namespace">on:</span>ready</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;init&#125;</span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code>'},p:u,i:u,o:u,d(n){n&&e(s)}}}class I extends n{constructor(n){super(),s(this,n,null,$,a,{})}}function x(n){let s,a,u,b,$,x,D,M,P,A,T,j,L,V,q,z,O,H,N,_,U,B,R,C,F,G,J,K,Q,W;z=new I({});let X={options:n[1]};return Q=new S({props:X}),n[3](Q),Q.$on("ready",n[2]),{c(){s=i(),a=t("div"),u=t("div"),b=t("div"),$=t("a"),x=k("←Examples"),D=i(),M=t("h4"),P=k("Dynamic marker via bind:this\r\n                "),A=t("span"),T=k("@0.0.7^"),j=i(),L=t("p"),V=k("This is still in the testing phase but it is a good release\r\n                candidate. This example makes use of bind directive."),q=i(),r(z.$$.fragment),O=i(),H=t("h4"),N=k("Note"),_=i(),U=t("p"),B=k("This example uses\r\n                "),R=t("a"),C=k("ISS API"),F=k("\r\n                to fetch the location and update it once in 5 seconds you will see it."),G=i(),J=t("div"),K=t("div"),r(Q.$$.fragment),this.h()},l(n){h('[data-svelte="svelte-1epvrd7"]',document.head).forEach(e),s=m(n),a=p(n,"DIV",{class:!0});var t=o(a);u=p(t,"DIV",{class:!0});var c=o(u);b=p(c,"DIV",{class:!0});var l=o(b);$=p(l,"A",{href:!0});var i=o($);x=d(i,"←Examples"),i.forEach(e),D=m(l),M=p(l,"H4",{});var k=o(M);P=d(k,"Dynamic marker via bind:this\r\n                "),A=p(k,"SPAN",{class:!0});var r=o(A);T=d(r,"@0.0.7^"),r.forEach(e),k.forEach(e),j=m(l),L=p(l,"P",{});var f=o(L);V=d(f,"This is still in the testing phase but it is a good release\r\n                candidate. This example makes use of bind directive."),f.forEach(e),q=m(l),g(z.$$.fragment,l),O=m(l),H=p(l,"H4",{});var v=o(H);N=d(v,"Note"),v.forEach(e),_=m(l),U=p(l,"P",{});var y=o(U);B=d(y,"This example uses\r\n                "),R=p(y,"A",{href:!0});var w=o(R);C=d(w,"ISS API"),w.forEach(e),F=d(y,"\r\n                to fetch the location and update it once in 5 seconds you will see it."),y.forEach(e),l.forEach(e),G=m(c),J=p(c,"DIV",{class:!0});var E=o(J);K=p(E,"DIV",{class:!0});var S=o(K);g(Q.$$.fragment,S),S.forEach(e),E.forEach(e),c.forEach(e),t.forEach(e),this.h()},h(){document.title="Dynamic marker via bind:this",c($,"href","examples"),c(A,"class","chip"),c(R,"href","https://api.wheretheiss.at/v1/satellites/25544"),c(b,"class","col-6"),c(K,"class","map svelte-yphpdh"),c(J,"class","col-6"),c(u,"class","row is-center"),c(a,"class","container")},m(n,t){l(n,s,t),l(n,a,t),f(a,u),f(u,b),f(b,$),f($,x),f(b,D),f(b,M),f(M,P),f(M,A),f(A,T),f(b,j),f(b,L),f(L,V),f(b,q),v(z,b,null),f(b,O),f(b,H),f(H,N),f(b,_),f(b,U),f(U,B),f(U,R),f(R,C),f(U,F),f(u,G),f(u,J),f(J,K),v(Q,K,null),W=!0},p(n,[s]){Q.$set({})},i(n){W||(y(z.$$.fragment,n),y(Q.$$.fragment,n),W=!0)},o(n){w(z.$$.fragment,n),w(Q.$$.fragment,n),W=!1},d(t){t&&e(s),t&&e(a),E(z),n[3](null),E(Q)}}}function D(n,s,a){let t;return[t,{zoom:1,mapID:"map",markers:[{lat:13,lng:80,popup:{isOpen:!0,text:"Static Marker"}}]},async function(){setInterval(async()=>{let n=await async function(){let n=await fetch("https://api.wheretheiss.at/v1/satellites/25544"),s=await n.json();return{lat:s.latitude,lng:s.longitude}}(),s={lat:n.lat,lng:n.lng,tooltip:{isOpen:!1,text:"International Svelte Station",direction:"top",sticky:"true"},icon:{iconUrl:"https://avatars2.githubusercontent.com/u/23617963?s=200&v=4",iconSize:[48,48]}};t.updateMarkers({markers:[s]})},5e3)},function(n){b[n?"unshift":"push"](()=>{t=n,a(0,t)})}]}export default class extends n{constructor(n){super(),s(this,n,D,x,a,{})}}
