import{w as o,S as t,i as e,s as n,v as s,x as a,y as i,e as r,g as l,h as p,c,a as m,d,j as u,l as h,b as f,f as g,o as y,z as w,p as $,r as z,u as C,A as k,B as b}from"./client.7ff2906d.js";const x=o(!1),v=o(!1);function L(o,t,e){let n,r;s(o,x,o=>e(2,n=o)),s(o,v,o=>e(3,r=o));const l=a();let p={},c="";return i(()=>{n&&l("ready"),r||(v.set(!0),function(o,t,e){let n=o.length;function s(){n=--n,n<1&&e()}t()?e():o.forEach(({type:o,url:t,options:e={async:!0,defer:!0}})=>{const n="script"===o,a=document.createElement(n?"script":"link");n?(a.src=t,a.async=e.async,a.defer=e.defer):(a.rel="stylesheet",a.href=t),a.onload=s,document.body.appendChild(a)})}([{type:"style",url:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"},{type:"script",url:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"}],()=>!1,()=>(p=window.L,c=p.map,x.set(!0),!0)))}),o.$$.update=()=>{4&o.$$.dirty&&n&&l("ready")},[]}class T extends t{constructor(o){super(),e(this,o,L,null,n,{})}}const{window:Z}=k;function S(o){let t,e,n,s,a,i;return n=new T({}),n.$on("ready",o[1]),{c(){t=r("div"),e=l(),p(n.$$.fragment),this.h()},l(o){t=c(o,"DIV",{class:!0,id:!0}),m(t).forEach(d),e=u(o),h(n.$$.fragment,o),this.h()},h(){f(t,"class","map svelte-1xdqv5q"),f(t,"id",o[0])},m(r,l){g(r,t,l),o[4](t),g(r,e,l),y(n,r,l),s=!0,a||(i=w(Z,"resize",o[2]),a=!0)},p(o,[e]){(!s||1&e)&&f(t,"id",o[0])},i(o){s||($(n.$$.fragment,o),s=!0)},o(o){z(n.$$.fragment,o),s=!1},d(s){s&&d(t),o[4](null),s&&d(e),C(n,s),a=!1,i()}}}function A(o,t,e){let n={},s="";const i=a();let{options:r}=t,{zoom:l=13,maxZoom:p=19,minZoom:c=1,mapID:m="map",attributionControl:d=!0,center:u=[0,0],markers:h,recenter:f=!1,scrollWheelZoom:g=!0,tileLayer:y={url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},controls:w={zoomControl:!0,position:"topleft",scale:!1}}=r;return o.$$set=o=>{"options"in o&&e(3,r=o.options)},[m,function(){setTimeout(()=>{n=window.L,function(){s=n.map(m,{attributionControl:d,zoomControl:w.zoomControl,minZoom:c,maxZoom:p}).setView(u,l),n.tileLayer(y.url,{attribution:y.attribution}).addTo(s),g||s.scrollWheelZoom.disable();let o,t=n.control;w.zoomControl||t().remove();w.scale&&t.scale({position:w.position}).addTo(s);w.zoomControl&&w.position&&(s.removeControl(s.zoomControl),t.zoom({position:w.position}).addTo(s));let e,a=[],i={iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]};h&&(h.map(t=>{a.push([t.lat,t.lng]),o=t.icon?n.icon(t.icon):n.icon(i);let e=new n.marker([t.lat,t.lng],{icon:o});t.popup&&(e.bindPopup(t.popup.text,{closeOnClick:!1,autoClose:!1}).addTo(s),t.popup.isOpen&&e.openPopup()),e.addTo(s)}),f&&(1==a.length?(s.panTo(n.latLng(a[0][0],a[0][1])),s.setZoom(l)):(e=new n.LatLngBounds(a),s.fitBounds(e))))}(),i("ready")},1)},function(){s&&s.invalidateSize()},r,function(o){b[o?"unshift":"push"](()=>{m=o,e(0,m)})}]}class j extends t{constructor(o){super(),e(this,o,A,S,n,{options:3})}}export{j as C};
