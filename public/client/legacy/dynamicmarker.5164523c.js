import{S as n,i as s,s as a,e as t,c as p,a as o,d as e,b as c,f as l,n as u,_ as i,g as r,h as k,j as f,k as m,l as h,t as d,m as g,q as v,o as y,p as w,r as b,u as x,v as E,G as I,w as S,x as $,y as P,I as D,F as M}from"./client.f81d29d5.js";import"@babel/runtime/helpers/esm/classCallCheck";import"@babel/runtime/helpers/esm/createClass";import"@babel/runtime/helpers/esm/assertThisInitialized";import"@babel/runtime/helpers/esm/inherits";import"@babel/runtime/helpers/esm/possibleConstructorReturn";import"@babel/runtime/helpers/esm/getPrototypeOf";import"@babel/runtime/helpers/esm/defineProperty";import{L as j}from"./Leaflet.de470149.js";function A(n,s,a,t,p,o,e){try{var c=n[o](e),l=c.value}catch(n){return void a(n)}c.done?s(l):Promise.resolve(l).then(t,p)}function T(n){return function(){var s=this,a=arguments;return new Promise((function(t,p){var o=n.apply(s,a);function e(n){A(o,t,p,e,c,"next",n)}function c(n){A(o,t,p,e,c,"throw",n)}e(void 0)}))}}function _(n){let s;return{c(){s=t("pre"),this.h()},l(n){s=p(n,"PRE",{class:!0}),o(s).forEach(e),this.h()},h(){c(s,"class","language-html")},m(n,a){l(n,s,a),s.innerHTML='<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">import</span> Map <span class="token keyword">from</span> <span class="token string">"@anoram/leaflet-svelte"</span><span class="token punctuation">;</span>\n  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getISS</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n        <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">http://api.open-notify.org/iss-now.json</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">let</span> lat <span class="token operator">=</span> res<span class="token punctuation">.</span>iss_position<span class="token punctuation">.</span>latitude<span class="token punctuation">;</span>\n        <span class="token keyword">let</span> lng <span class="token operator">=</span> res<span class="token punctuation">.</span>iss_position<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span>\n        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>\n            lat<span class="token punctuation">,</span>\n            lng<span class="token punctuation">,</span>\n        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>\n        zoom<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n        mapID<span class="token operator">:</span> <span class="token string">"map"</span><span class="token punctuation">,</span>\n        markers<span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">&#123;</span>\n                lat<span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>\n                lng<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>\n                popup<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    isOpen<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n                    text<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Static Marker</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n    <span class="token keyword">let</span> <span class="token constant">MAP_EL</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>\n            <span class="token keyword">let</span> latlng <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getISS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token punctuation">&#123;</span>\n                lat<span class="token operator">:</span> latlng<span class="token punctuation">.</span>lat<span class="token punctuation">,</span>\n                lng<span class="token operator">:</span> latlng<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>\n                tooltip<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    isOpen<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n                    text<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">International Svelte Station</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>\n                    direction<span class="token operator">:</span> <span class="token string">"top"</span><span class="token punctuation">,</span>\n                    sticky<span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n                icon<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    iconUrl<span class="token operator">:</span> <span class="token string">"./svelte-logo.png"</span><span class="token punctuation">,</span>\n                    iconSize<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n            <span class="token constant">MAP_EL</span><span class="token punctuation">.</span><span class="token function">updateMarkers</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>\n                markers<span class="token operator">:</span> <span class="token punctuation">[</span>marker<span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n  <span class="token selector">.map</span> <span class="token punctuation">&#123;</span>\n    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>\n    <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Map</span> <span class="token attr-name">&#123;options&#125;</span> <span class="token attr-name"><span class="token namespace">bind:</span>this</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;MAP_EL&#125;</span> <span class="token attr-name"><span class="token namespace">on:</span>ready</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;init&#125;</span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code>'},p:u,i:u,o:u,d(n){n&&e(s)}}}class R extends n{constructor(n){super(),s(this,n,null,_,a,{})}}function L(n){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var a,t=r(n);if(s){var p=r(this).constructor;a=Reflect.construct(t,arguments,p)}else a=t.apply(this,arguments);return k(this,a)}}function z(n){var s,a,u,i,r,k,f,m,D,M,A,T,_,L,z,O,V,q,C,H,N,U,F,G,B,J,K,Q,W,X;O=new R({});var Y={options:n[1]};return W=new j({props:Y}),n[3](W),W.$on("ready",n[2]),{c:function(){s=h(),a=t("div"),u=t("div"),i=t("div"),r=t("a"),k=d("←Examples"),f=h(),m=t("h4"),D=d("Dynamic marker via bind:this\r\n                "),M=t("span"),A=d("@0.0.7^"),T=h(),_=t("p"),L=d("This is still in the testing phase but it is a good release\r\n                candidate. This example makes use of bind directive."),z=h(),g(O.$$.fragment),V=h(),q=t("h4"),C=d("Note"),H=h(),N=t("p"),U=d("This example uses\r\n                "),F=t("a"),G=d("ISS API"),B=d("\r\n                to fetch the location and update it once in 5 seconds you will see it."),J=h(),K=t("div"),Q=t("div"),g(W.$$.fragment),this.h()},l:function(n){v('[data-svelte="svelte-1epvrd7"]',document.head).forEach(e),s=y(n),a=p(n,"DIV",{class:!0});var t=o(a);u=p(t,"DIV",{class:!0});var c=o(u);i=p(c,"DIV",{class:!0});var l=o(i);r=p(l,"A",{href:!0});var h=o(r);k=w(h,"←Examples"),h.forEach(e),f=y(l),m=p(l,"H4",{});var d=o(m);D=w(d,"Dynamic marker via bind:this\r\n                "),M=p(d,"SPAN",{class:!0});var g=o(M);A=w(g,"@0.0.7^"),g.forEach(e),d.forEach(e),T=y(l),_=p(l,"P",{});var x=o(_);L=w(x,"This is still in the testing phase but it is a good release\r\n                candidate. This example makes use of bind directive."),x.forEach(e),z=y(l),b(O.$$.fragment,l),V=y(l),q=p(l,"H4",{});var E=o(q);C=w(E,"Note"),E.forEach(e),H=y(l),N=p(l,"P",{});var I=o(N);U=w(I,"This example uses\r\n                "),F=p(I,"A",{href:!0});var S=o(F);G=w(S,"ISS API"),S.forEach(e),B=w(I,"\r\n                to fetch the location and update it once in 5 seconds you will see it."),I.forEach(e),l.forEach(e),J=y(c),K=p(c,"DIV",{class:!0});var $=o(K);Q=p($,"DIV",{class:!0});var P=o(Q);b(W.$$.fragment,P),P.forEach(e),$.forEach(e),c.forEach(e),t.forEach(e),this.h()},h:function(){document.title="Dynamic marker via bind:this",c(r,"href","examples"),c(M,"class","chip"),c(F,"href","http://api.open-notify.org/iss-now.json"),c(i,"class","col-6"),c(Q,"class","map svelte-yphpdh"),c(K,"class","col-6"),c(u,"class","row is-center"),c(a,"class","container")},m:function(n,t){l(n,s,t),l(n,a,t),x(a,u),x(u,i),x(i,r),x(r,k),x(i,f),x(i,m),x(m,D),x(m,M),x(M,A),x(i,T),x(i,_),x(_,L),x(i,z),E(O,i,null),x(i,V),x(i,q),x(q,C),x(i,H),x(i,N),x(N,U),x(N,F),x(F,G),x(N,B),x(u,J),x(u,K),x(K,Q),E(W,Q,null),X=!0},p:function(n,s){I(s,1)[0];W.$set({})},i:function(n){X||(S(O.$$.fragment,n),S(W.$$.fragment,n),X=!0)},o:function(n){$(O.$$.fragment,n),$(W.$$.fragment,n),X=!1},d:function(t){t&&e(s),t&&e(a),P(O),n[3](null),P(W)}}}function O(){return V.apply(this,arguments)}function V(){return(V=T(D.mark((function n(){var s,a,t,p;return D.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://api.open-notify.org/iss-now.json");case 2:return s=n.sent,n.next=5,s.json();case 5:return a=n.sent,t=a.iss_position.latitude,p=a.iss_position.longitude,n.abrupt("return",{lat:t,lng:p});case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function q(n,s,a){var t;function p(){return(p=T(D.mark((function n(){return D.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:setInterval(T(D.mark((function n(){var s,a;return D.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O();case 2:s=n.sent,a={lat:s.lat,lng:s.lng,tooltip:{isOpen:!1,text:"International Svelte Station",direction:"top",sticky:"true"},icon:{iconUrl:"https://avatars2.githubusercontent.com/u/23617963?s=200&v=4",iconSize:[48,48]}},t.updateMarkers({markers:[a]});case 5:case"end":return n.stop()}}),n)}))),5e3);case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return[t,{zoom:1,mapID:"map",markers:[{lat:13,lng:80,popup:{isOpen:!0,text:"Static Marker"}}]},function(){return p.apply(this,arguments)},function(n){M[n?"unshift":"push"]((function(){a(0,t=n)}))}]}var C=function(t){i(o,n);var p=L(o);function o(n){var t;return f(this,o),t=p.call(this),s(m(t),n,q,z,a,{}),t}return o}();export default C;
