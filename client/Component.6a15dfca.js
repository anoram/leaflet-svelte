import{w as o,S as t,i as e,s as n,v as s,x as a,y as i,e as r,g as p,h as c,c as l,a as d,d as m,j as u,l as h,b as f,f as g,o as y,z as w,p as $,r as k,u as z,A as x,B as C}from"./client.6ebed14e.js";const b=o(!1),T=o(!1);function v(o,t,e){let n,r;s(o,b,o=>e(2,n=o)),s(o,T,o=>e(3,r=o));const p=a();let c={},l="";return i(()=>{n&&p("ready"),r||(T.set(!0),function(o,t,e){let n=o.length;function s(){n=--n,n<1&&e()}t()?e():o.forEach(({type:o,url:t,options:e={async:!0,defer:!0}})=>{const n="script"===o,a=document.createElement(n?"script":"link");n?(a.src=t,a.async=e.async,a.defer=e.defer):(a.rel="stylesheet",a.href=t),a.onload=s,document.body.appendChild(a)})}([{type:"style",url:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"},{type:"script",url:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"}],()=>!1,()=>(c=window.L,l=c.map,b.set(!0),!0)))}),o.$$.update=()=>{4&o.$$.dirty&&n&&p("ready")},[]}class S extends t{constructor(o){super(),e(this,o,v,null,n,{})}}const{window:A}=x;function Z(o){let t,e,n,s,a,i;return n=new S({}),n.$on("ready",o[1]),{c(){t=r("div"),e=p(),c(n.$$.fragment),this.h()},l(o){t=l(o,"DIV",{class:!0,id:!0}),d(t).forEach(m),e=u(o),h(n.$$.fragment,o),this.h()},h(){f(t,"class","map svelte-1xdqv5q"),f(t,"id",o[0])},m(r,p){g(r,t,p),o[4](t),g(r,e,p),y(n,r,p),s=!0,a||(i=w(A,"resize",o[2]),a=!0)},p(o,[e]){(!s||1&e)&&f(t,"id",o[0])},i(o){s||($(n.$$.fragment,o),s=!0)},o(o){k(n.$$.fragment,o),s=!1},d(s){s&&m(t),o[4](null),s&&m(e),z(n,s),a=!1,i()}}}function j(o,t,e){let n={},s="";const i=a();let{options:r}=t,{zoom:p=13,mapID:c="map",attributionControl:l=!0,maxZoom:d=19,minZoom:m=5,center:u=[0,0],markers:h,controls:f={zoomControl:!0,position:"topright",scale:!1}}=r;return o.$$set=o=>{"options"in o&&e(3,r=o.options)},[c,function(){setTimeout(()=>{n=window.L,function(){s=n.map(c,{attributionControl:l,zoomControl:f.zoomControl,minZoom:m,maxZoom:d}).setView(u,p),n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(s),f.zoomControl||n.control.zoom({position:f.position}).addTo(s);f.scale&&n.control.scale({position:f.position}).addTo(s);let o,t={iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]};h&&h.map(e=>{o=e.icon?n.icon(e.icon):n.icon(t);let a=new n.marker([e.lat,e.lng],{icon:o});e.popup&&(a.bindPopup(e.popup.text,{closeOnClick:!1,autoClose:!1}).addTo(s),e.popup.isOpen&&a.openPopup()),a.addTo(s)})}(),i("ready")},1)},function(){s&&s.invalidateSize()},r,function(o){C[o?"unshift":"push"](()=>{c=o,e(0,c)})}]}class E extends t{constructor(o){super(),e(this,o,j,Z,n,{options:3})}}export{E as C};
