import{S as n,i as s,s as a,e as t,c as p,a as e,d as o,b as c,f as l,n as u,_ as r,g as i,h as k,j as f,k as h,l as m,t as d,m as g,q as v,o as y,p as w,r as b,u as x,v as E,G as I,w as S,x as $,y as P,I as D,F as M}from"./client.e1fa59dc.js";import"@babel/runtime/helpers/esm/classCallCheck";import"@babel/runtime/helpers/esm/createClass";import"@babel/runtime/helpers/esm/assertThisInitialized";import"@babel/runtime/helpers/esm/inherits";import"@babel/runtime/helpers/esm/possibleConstructorReturn";import"@babel/runtime/helpers/esm/getPrototypeOf";import"@babel/runtime/helpers/esm/defineProperty";import{L as A}from"./Leaflet.6f0b781f.js";function T(n,s,a,t,p,e,o){try{var c=n[e](o),l=c.value}catch(n){return void a(n)}c.done?s(l):Promise.resolve(l).then(t,p)}function R(n){return function(){var s=this,a=arguments;return new Promise((function(t,p){var e=n.apply(s,a);function o(n){T(e,t,p,o,c,"next",n)}function c(n){T(e,t,p,o,c,"throw",n)}o(void 0)}))}}function j(n){let s;return{c(){s=t("pre"),this.h()},l(n){s=p(n,"PRE",{class:!0}),e(s).forEach(o),this.h()},h(){c(s,"class","language-html")},m(n,a){l(n,s,a),s.innerHTML='<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">import</span> Map <span class="token keyword">from</span> <span class="token string">"@anoram/leaflet-svelte"</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getISS</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n        <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">https://api.wheretheiss.at/v1/satellites/25544</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">let</span> lat <span class="token operator">=</span> res<span class="token punctuation">.</span>latitude<span class="token punctuation">;</span>\n        <span class="token keyword">let</span> lng <span class="token operator">=</span> res<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span>\n        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>\n            lat<span class="token punctuation">,</span>\n            lng<span class="token punctuation">,</span>\n        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>\n        zoom<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n        mapID<span class="token operator">:</span> <span class="token string">"map"</span><span class="token punctuation">,</span>\n        markers<span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">&#123;</span>\n                lat<span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>\n                lng<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>\n                popup<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    isOpen<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n                    text<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Static Marker</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n    <span class="token keyword">let</span> <span class="token constant">MAP_EL</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>\n            <span class="token keyword">let</span> latlng <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getISS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token punctuation">&#123;</span>\n                lat<span class="token operator">:</span> latlng<span class="token punctuation">.</span>lat<span class="token punctuation">,</span>\n                lng<span class="token operator">:</span> latlng<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>\n                tooltip<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    isOpen<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n                    text<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">International Svelte Station</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>\n                    direction<span class="token operator">:</span> <span class="token string">"top"</span><span class="token punctuation">,</span>\n                    sticky<span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n                icon<span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n                    iconUrl<span class="token operator">:</span> <span class="token string">"./svelte-logo.png"</span><span class="token punctuation">,</span>\n                    iconSize<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n            <span class="token constant">MAP_EL</span><span class="token punctuation">.</span><span class="token function">updateMarkers</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>\n                markers<span class="token operator">:</span> <span class="token punctuation">[</span>marker<span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n  <span class="token selector">.map</span> <span class="token punctuation">&#123;</span>\n    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>\n    <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Map</span> <span class="token attr-name">&#123;options&#125;</span> <span class="token attr-name"><span class="token namespace">bind:</span>this</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;MAP_EL&#125;</span> <span class="token attr-name"><span class="token namespace">on:</span>ready</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;init&#125;</span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code>'},p:u,i:u,o:u,d(n){n&&o(s)}}}class L extends n{constructor(n){super(),s(this,n,null,j,a,{})}}function z(n){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var a,t=i(n);if(s){var p=i(this).constructor;a=Reflect.construct(t,arguments,p)}else a=t.apply(this,arguments);return k(this,a)}}function O(n){var s,a,u,r,i,k,f,h,D,M,T,R,j,z,O,V,q,C,_,H,N,U,F,G,B,J,K,Q,W,X;V=new L({});var Y={options:n[1]};return W=new A({props:Y}),n[3](W),W.$on("ready",n[2]),{c:function(){s=m(),a=t("div"),u=t("div"),r=t("div"),i=t("a"),k=d("←Examples"),f=m(),h=t("h4"),D=d("Dynamic marker via bind:this\r\n                "),M=t("span"),T=d("@0.0.7^"),R=m(),j=t("p"),z=d("This is still in the testing phase but it is a good release\r\n                candidate. This example makes use of bind directive."),O=m(),g(V.$$.fragment),q=m(),C=t("h4"),_=d("Note"),H=m(),N=t("p"),U=d("This example uses\r\n                "),F=t("a"),G=d("ISS API"),B=d("\r\n                to fetch the location and update it once in 5 seconds you will see it."),J=m(),K=t("div"),Q=t("div"),g(W.$$.fragment),this.h()},l:function(n){v('[data-svelte="svelte-1epvrd7"]',document.head).forEach(o),s=y(n),a=p(n,"DIV",{class:!0});var t=e(a);u=p(t,"DIV",{class:!0});var c=e(u);r=p(c,"DIV",{class:!0});var l=e(r);i=p(l,"A",{href:!0});var m=e(i);k=w(m,"←Examples"),m.forEach(o),f=y(l),h=p(l,"H4",{});var d=e(h);D=w(d,"Dynamic marker via bind:this\r\n                "),M=p(d,"SPAN",{class:!0});var g=e(M);T=w(g,"@0.0.7^"),g.forEach(o),d.forEach(o),R=y(l),j=p(l,"P",{});var x=e(j);z=w(x,"This is still in the testing phase but it is a good release\r\n                candidate. This example makes use of bind directive."),x.forEach(o),O=y(l),b(V.$$.fragment,l),q=y(l),C=p(l,"H4",{});var E=e(C);_=w(E,"Note"),E.forEach(o),H=y(l),N=p(l,"P",{});var I=e(N);U=w(I,"This example uses\r\n                "),F=p(I,"A",{href:!0});var S=e(F);G=w(S,"ISS API"),S.forEach(o),B=w(I,"\r\n                to fetch the location and update it once in 5 seconds you will see it."),I.forEach(o),l.forEach(o),J=y(c),K=p(c,"DIV",{class:!0});var $=e(K);Q=p($,"DIV",{class:!0});var P=e(Q);b(W.$$.fragment,P),P.forEach(o),$.forEach(o),c.forEach(o),t.forEach(o),this.h()},h:function(){document.title="Dynamic marker via bind:this",c(i,"href","examples"),c(M,"class","chip"),c(F,"href","https://api.wheretheiss.at/v1/satellites/25544"),c(r,"class","col-6"),c(Q,"class","map svelte-yphpdh"),c(K,"class","col-6"),c(u,"class","row is-center"),c(a,"class","container")},m:function(n,t){l(n,s,t),l(n,a,t),x(a,u),x(u,r),x(r,i),x(i,k),x(r,f),x(r,h),x(h,D),x(h,M),x(M,T),x(r,R),x(r,j),x(j,z),x(r,O),E(V,r,null),x(r,q),x(r,C),x(C,_),x(r,H),x(r,N),x(N,U),x(N,F),x(F,G),x(N,B),x(u,J),x(u,K),x(K,Q),E(W,Q,null),X=!0},p:function(n,s){I(s,1)[0];W.$set({})},i:function(n){X||(S(V.$$.fragment,n),S(W.$$.fragment,n),X=!0)},o:function(n){$(V.$$.fragment,n),$(W.$$.fragment,n),X=!1},d:function(t){t&&o(s),t&&o(a),P(V),n[3](null),P(W)}}}function V(){return q.apply(this,arguments)}function q(){return(q=R(D.mark((function n(){var s,a,t,p;return D.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.wheretheiss.at/v1/satellites/25544");case 2:return s=n.sent,n.next=5,s.json();case 5:return a=n.sent,t=a.latitude,p=a.longitude,n.abrupt("return",{lat:t,lng:p});case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(n,s,a){var t;function p(){return(p=R(D.mark((function n(){return D.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:setInterval(R(D.mark((function n(){var s,a;return D.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V();case 2:s=n.sent,a={lat:s.lat,lng:s.lng,tooltip:{isOpen:!1,text:"International Svelte Station",direction:"top",sticky:"true"},icon:{iconUrl:"https://avatars2.githubusercontent.com/u/23617963?s=200&v=4",iconSize:[48,48]}},t.updateMarkers({markers:[a]});case 5:case"end":return n.stop()}}),n)}))),5e3);case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return[t,{zoom:1,mapID:"map",markers:[{lat:13,lng:80,popup:{isOpen:!0,text:"Static Marker"}}]},function(){return p.apply(this,arguments)},function(n){M[n?"unshift":"push"]((function(){a(0,t=n)}))}]}var _=function(t){r(e,n);var p=z(e);function e(n){var t;return f(this,e),t=p.call(this),s(h(t),n,C,O,a,{}),t}return e}();export default _;
